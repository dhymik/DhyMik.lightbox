{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ekko-lightbox.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Lightbox","$","NAME","JQUERY_NO_CONFLICT","fn","Default","debug","title","footer","maxWidth","maxHeight","showArrows","hideArrowsOnVideo","wrapping","type","alwaysShowClose","fade","verticalAlignCenter","loadingMessage","leftArrow","rightArrow","strings","close","fail","doc","document","onShow","onShown","onHide","onHidden","onNavigate","onContentLoaded","$element","config","_this","this","_classCallCheck","_config","extend","_$modalNavLayer","_$modalArrows","_$debugInfo","_galleryIndex","_galleryName","_titleIsShown","_footerIsShown","_wantedWidth","_wantedHeight","_touchstartX","_touchendX","_modalId","Math","floor","random","_$element","jQuery","_isBootstrap3","modal","Constructor","VERSION","h4","btn","dialog","body","append","_$modal","find","first","_$modalDialog","_$modalContent","_$modalBody","_$modalHeader","_$modalFooter","_$lightboxContainer","_$lightboxBodyOne","_$lightboxBodyTwo","_$lightboxContainerCurrent","_$lightboxContainerUnUsed","data","_$galleryItems","index","on","_navigationalBinder","bind","length","prepend","event","preventDefault","navigateLeft","navigateRight","hover","addClass","removeClass","filter","removeAttr","updateNavigation","_toggleLoading","_handle","off","window","remove","_resize","changedTouches","screenX","_swipeGesure","_createClass","key","navigateTo","$nav","keyCode","src","_isImage","_getYoutubeId","_getVimeoId","_getInstagramId","_isMedia","indexOf","ajax","url","async","getResponseHeader","string","match","$newCurrent","css","$toUse","_updateTitleAndFooter","_switchContainers","currentRemote","attr","currentType","_detectRemoteType","_error","altTag","_preloadImage","_preloadImageByIndex","_showYoutubeVideo","_showVimeoVideo","_showInstagramVideo","_showHtml5Media","_loadRemoteContent","thisLightbox","setTimeout","empty","matches","show","width","height","screenWidth","screen","screenHeight","videoMaxDimension","max","caption","html","remote","$containerForElement","id","query","substr","_showVideoIframe","includes","scalingFactor","_calculateScaleFactor","contentType","_getRemoteContentType","mediaType","_this2","disableExternalCheck","_isExternal","load","proxy","trigger","toLowerCase","location","protocol","replace","RegExp","http:","https:","host","message","console","error","startIndex","numberOfTimes","next","$containerForImage","_this3","img","Image","loadingTimeout","onload","clearTimeout","image","hasAttribute","markup","clientWidth","clientHeight","imageWidth","imageHeight","imgWidth","imgHeight","alert","log","onerror","imageAspecRatio","modalDialogOuterWidthExcludingMargins","outerWidth","modalImageContainerInnerWidth","innerWidth","modalDialogOuterHeightExcludingMargins","outerHeight","modalDialogOuterHeightIncludingMargins","modalImageContainerInnerHeight","innerHeight","widthInnerSpacing","heightInnerSpacing","heightOuterSpacing","min","headerHeight","footerHeight","ceil","text","_handleUpdate","Exception","handleUpdate","_this4","each","$this","_typeof","_jQueryInterface","noConflict"],"mappings":"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","file":"ekko-lightbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const Lightbox = (($) => {\r\n\r\n    /* Added in v.5.5.0-dhymik:\r\n     * (search for \"added by DhyMik\")\r\n     * \r\n     * 1. auto max data dimensions to max screen dimensions\r\n     * \r\n     *    This solves issues with svg displayed too small\r\n     *    and images / video frames not filling the screen\r\n     * \r\n     * 2. skip resizing and adding inline size styles when\r\n     *    'lightboxFullSize' css class is added to the lighbox <a> tag\r\n     *    \r\n     *    Use this if\r\n     * \r\n     * Changed in 5.5.1-dhymik (2023-04-02):\r\n     * - Vimeo player url will not break if url contains querystring parameters\r\n     */\r\n\r\n\r\n    const NAME = 'ekkoLightbox'\r\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n\r\n    const Default = {\r\n        debug: 0,   // 0: no debug, 1: on-screen info, 2: on-screen plus pop-ups\r\n        title: '',\r\n        footer: '',\r\n        maxWidth: 9999,\r\n        maxHeight: 9999,\r\n        showArrows: true, //display the left / right arrows or not\r\n        hideArrowsOnVideo: false, //hide the left / right arrows for videos\r\n        wrapping: true, //if true, gallery loops infinitely\r\n        type: null, //force the lightbox into image / youtube mode. if null, or not image|youtube|vimeo; detect it\r\n        alwaysShowClose: false, //always show the close button, even if there is no title\r\n        fade: true, // fade in or not\r\n        verticalAlignCenter: false, // vertically centered modal\r\n        loadingMessage: '<div class=\"ekko-lightbox-loader\"><div><div></div><div></div></div></div>', // http://tobiasahlin.com/spinkit/\r\n        leftArrow: '<span>&#10094;</span>',\r\n        rightArrow: '<span>&#10095;</span>',\r\n        strings: {\r\n            close: 'Close',\r\n            fail: 'Failed to load image:',\r\n            type: 'Could not detect remote target type. Force the type using data-type',\r\n        },\r\n        doc: document, // if in an iframe can specify top.document\r\n        onShow() { },\r\n        onShown() { },\r\n        onHide() { },\r\n        onHidden() { },\r\n        onNavigate() { },\r\n        onContentLoaded() { },\r\n    }\r\n\r\n    class Lightbox {\r\n\r\n        /**\r\n\r\n        Class properties:\r\n\r\n         _$element: null -> the <a> element currently being displayed\r\n         _$modal: The bootstrap modal generated\r\n            _$modalDialog: The .modal-dialog\r\n            _$modalContent: The .modal-content\r\n            _$modalBody: The .modal-body\r\n            _$modalHeader: The .modal-header\r\n            _$modalFooter: The .modal-footer\r\n         _$lightboxContainerOne: Container of the first lightbox element\r\n         _$lightboxContainerTwo: Container of the second lightbox element\r\n         _$lightboxContainerCurrent: the container in use\r\n         _$lightboxContainerUnUsed: the currently unused container\r\n         _$lightboxBody: First element in the container\r\n         _$modalNavLayer: The navigation container, overlaid for images, underlaid for videos\r\n         _$modalArrows: The overlayed arrows container, always overlaid\r\n\r\n         _$galleryItems: Other <a>'s available for this gallery\r\n         _galleryName: Name of the current data('gallery') showing\r\n         _galleryIndex: The current index of the _$galleryItems being shown\r\n\r\n         _config: {} the options for the modal\r\n         _modalId: unique id for the current lightbox\r\n\r\n         */\r\n\r\n        static get Default() {\r\n            return Default\r\n        }\r\n\r\n        constructor($element, config) {\r\n            this._config = $.extend({}, Default, config)\r\n            this._$modalNavLayer = null\r\n            this._$modalArrows = null\r\n            this._$debugInfo = null;\r\n            this._galleryIndex = 0\r\n            this._galleryName = null\r\n            this._titleIsShown = false\r\n            this._footerIsShown = false\r\n            this._wantedWidth = 0\r\n            this._wantedHeight = 0\r\n            this._touchstartX = 0\r\n            this._touchendX = 0\r\n\r\n            this._modalId = `ekkoLightbox-${Math.floor((Math.random() * 1000) + 1)}`;\r\n            this._$element = $element instanceof jQuery ? $element : $($element)\r\n\r\n            this._isBootstrap3 = $.fn.modal.Constructor.VERSION[0] == 3;\r\n\r\n            let h4 = `<h4 class=\"modal-title\">${this._config.title || \"&nbsp;\"}</h4>`;\r\n            let btn = `<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"${this._config.strings.close}\"><span aria-hidden=\"true\">&times;</span></button>`;\r\n\r\n            let fade = this._config.fade ? 'fade in' : '';\r\n            let vertical = this._config.verticalAlignCenter ? 'modal-dialog-centered' : '';\r\n\r\n            let header = `<div class=\"modal-header${this._config.title || this._config.alwaysShowClose ? '' : ' hide'}\">` + (this._isBootstrap3 ? btn + h4 : h4 + btn) + `</div>`;\r\n            let footer = `<div class=\"modal-footer${this._config.footer ? '' : ' hide'}\">${this._config.footer || \"&nbsp;\"}</div>`;\r\n            let body = `<div class=\"modal-body\"><div class=\"ekko-lightbox-container\"><div class=\"ekko-lightbox-item ${fade} show\"></div><div class=\"ekko-lightbox-item fade\"></div></div></div>`;\r\n            let dialog = `<div class=\"modal-dialog ${vertical}\" role=\"document\"><div class=\"modal-content\">${header}${body}${footer}</div></div>`;\r\n            $(this._config.doc.body).append(`<div id=\"${this._modalId}\" class=\"ekko-lightbox modal fade\" tabindex=\"-1\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">${dialog}</div>`)\r\n\r\n            this._$modal = $(`#${this._modalId}`, this._config.doc)\r\n\r\n            if (this._config.debug > 0) this._$modal.append(`<div class=\"modal-debug-info\"></div>`);\r\n            this._$debugInfo = this._$modal.find('.modal-debug-info').first();\r\n\r\n            this._$modalDialog = this._$modal.find('.modal-dialog').first()\r\n            this._$modalContent = this._$modal.find('.modal-content').first()\r\n            this._$modalBody = this._$modal.find('.modal-body').first()\r\n            this._$modalHeader = this._$modal.find('.modal-header').first()\r\n            this._$modalFooter = this._$modal.find('.modal-footer').first()\r\n\r\n            this._$lightboxContainer = this._$modalBody.find('.ekko-lightbox-container').first()\r\n            this._$lightboxBodyOne = this._$lightboxContainer.find('> div:first-child').first()\r\n            this._$lightboxBodyTwo = this._$lightboxContainer.find('> div:last-child').first()\r\n            this._$lightboxContainerCurrent = this._$lightboxBodyOne;\r\n            this._$lightboxContainerUnUsed = this._$lightboxBodyTwo;\r\n\r\n            this._galleryName = this._$element.data('gallery')\r\n            if (this._galleryName) {\r\n                this._$galleryItems = $(document.body).find(`*[data-gallery=\"${this._galleryName}\"]`)\r\n                this._galleryIndex = this._$galleryItems.index(this._$element)\r\n                $(document).on('keydown.ekkoLightbox', this._navigationalBinder.bind(this))\r\n\r\n                // add the directional arrows to the modal\r\n                if (this._config.showArrows && this._$galleryItems.length > 1) {\r\n\r\n                    // add the navigation layer with full surface links\r\n                    this._$lightboxContainer.prepend(`<div class=\"ekko-lightbox-nav-overlay\"><a href=\"#\"></a><a href=\"#\"></a></div>`)\r\n                    this._$modalNavLayer = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay').first()\r\n\r\n                    // add the link arrows suitable also for video overlay\r\n                    this._$lightboxContainer.append(`<div class=\"ekko-lightbox-nav-arrows\"><a href=\"#\">${this._config.leftArrow}</a><a href=\"#\">${this._config.rightArrow}</a></div>`)\r\n                    this._$modalArrows = this._$lightboxContainer.find('div.ekko-lightbox-nav-arrows').first()\r\n\r\n                    // add the click event handlers to all links\r\n                    this._$lightboxContainer.on('click', 'a:first-child', event => {\r\n                        event.preventDefault()\r\n                        return this.navigateLeft()\r\n                    })\r\n                    this._$lightboxContainer.on('click', 'a:last-child', event => {\r\n                        event.preventDefault()\r\n                        return this.navigateRight()\r\n                    })\r\n\r\n                    // add the hover event handlers to nav surface links, adding hover class to arrow links\r\n                    this._$modalNavLayer.find('a:first-child').hover(\r\n                        () => {\r\n                            this._$modalArrows.find('a:first-child').addClass('hover');\r\n                        },\r\n                        () => {\r\n                            this._$modalArrows.find('a:first-child').removeClass('hover').filter('[class=\"\"]').removeAttr('class');\r\n                        }\r\n                    );\r\n                    this._$modalNavLayer.find('a:last-child').hover(\r\n                        () => {\r\n                            this._$modalArrows.find('a:last-child').addClass('hover');\r\n                        },\r\n                        () => {\r\n                            this._$modalArrows.find('a:last-child').removeClass('hover').filter('[class=\"\"]').removeAttr('class');\r\n                        }\r\n                    );\r\n\r\n                    this.updateNavigation()\r\n                }\r\n            }\r\n\r\n            this._$modal\r\n                .on('show.bs.modal', this._config.onShow.bind(this))\r\n                .on('shown.bs.modal', () => {\r\n                    this._toggleLoading(true)\r\n                    this._handle()\r\n                    return this._config.onShown.call(this)\r\n                })\r\n                .on('hide.bs.modal', this._config.onHide.bind(this))\r\n                .on('hidden.bs.modal', () => {\r\n                    if (this._galleryName) {\r\n                        $(document).off('keydown.ekkoLightbox')\r\n                        $(window).off('resize.ekkoLightbox')\r\n                    }\r\n                    this._$modal.remove()\r\n                    return this._config.onHidden.call(this)\r\n                })\r\n                .modal(this._config)\r\n\r\n            $(window).on('resize.ekkoLightbox', () => {\r\n                this._resize(this._wantedWidth, this._wantedHeight)\r\n            });\r\n\r\n            this._$lightboxContainer\r\n                .on('touchstart', () => {\r\n                    this._touchstartX = event.changedTouches[0].screenX;\r\n\r\n                })\r\n                .on('touchend', () => {\r\n                    this._touchendX = event.changedTouches[0].screenX;\r\n                    this._swipeGesure();\r\n                })\r\n        }\r\n\r\n        element() {\r\n            return this._$element;\r\n        }\r\n\r\n        modal() {\r\n            return this._$modal;\r\n        }\r\n\r\n        navigateTo(index) {\r\n\r\n            if (index < 0 || index > this._$galleryItems.length - 1)\r\n                return this\r\n\r\n            this._galleryIndex = index\r\n\r\n            this.updateNavigation()\r\n\r\n            this._$element = $(this._$galleryItems.get(this._galleryIndex))\r\n            this._handle();\r\n        }\r\n\r\n        navigateLeft() {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            if (this._$galleryItems.length === 1)\r\n                return\r\n\r\n            if (this._galleryIndex === 0) {\r\n                if (this._config.wrapping)\r\n                    this._galleryIndex = this._$galleryItems.length - 1\r\n                else\r\n                    return\r\n            }\r\n            else //circular\r\n                this._galleryIndex--\r\n\r\n            this._config.onNavigate.call(this, 'left', this._galleryIndex)\r\n            return this.navigateTo(this._galleryIndex)\r\n        }\r\n\r\n        navigateRight() {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            if (this._$galleryItems.length === 1)\r\n                return\r\n\r\n            if (this._galleryIndex === this._$galleryItems.length - 1) {\r\n                if (this._config.wrapping)\r\n                    this._galleryIndex = 0\r\n                else\r\n                    return\r\n            }\r\n            else //circular\r\n                this._galleryIndex++\r\n\r\n            this._config.onNavigate.call(this, 'right', this._galleryIndex)\r\n            return this.navigateTo(this._galleryIndex)\r\n        }\r\n\r\n        updateNavigation() {\r\n            if (!this._config.wrapping) {\r\n                let $nav = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay')\r\n                if (this._galleryIndex === 0)\r\n                    $nav.find('a:first-child').addClass('disabled')\r\n                else\r\n                    $nav.find('a:first-child').removeClass('disabled')\r\n\r\n                if (this._galleryIndex === this._$galleryItems.length - 1)\r\n                    $nav.find('a:last-child').addClass('disabled')\r\n                else\r\n                    $nav.find('a:last-child').removeClass('disabled')\r\n            }\r\n        }\r\n\r\n        close() {\r\n            return this._$modal.modal('hide');\r\n        }\r\n\r\n        // helper private methods\r\n        _navigationalBinder(event) {\r\n            event = event || window.event;\r\n            if (event.keyCode === 39)\r\n                return this.navigateRight()\r\n            if (event.keyCode === 37)\r\n                return this.navigateLeft()\r\n        }\r\n\r\n        // type detection private methods\r\n        _detectRemoteType(src, type) {\r\n\r\n            type = type || false;\r\n\r\n            if (!type && this._isImage(src))\r\n                type = 'image';\r\n            if (!type && this._getYoutubeId(src))\r\n                type = 'youtube';\r\n            if (!type && this._getVimeoId(src))\r\n                type = 'vimeo';\r\n            if (!type && this._getInstagramId(src))\r\n                type = 'instagram';\r\n            if (type == 'audio' || type == 'video' || (!type && this._isMedia(src)))\r\n                type = 'media';\r\n            if (!type || ['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\r\n                type = 'url';\r\n\r\n            return type;\r\n        }\r\n\r\n        _getRemoteContentType(src) {\r\n            let response = $.ajax({\r\n                type: 'HEAD',\r\n                url: src,\r\n                async: false\r\n            });\r\n            let contentType = response.getResponseHeader('Content-Type')\r\n            return contentType;\r\n        }\r\n\r\n        _isImage(string) {\r\n            return string && string.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)\r\n        }\r\n\r\n        _isMedia(string) {\r\n            return string && string.match(/(\\.(mp3|mp4|ogg|webm|wav)((\\?|#).*)?$)/i)\r\n        }\r\n\r\n        _switchContainers() {\r\n\r\n            let $newCurrent = this._$lightboxContainerUnUsed\r\n            this._$lightboxContainerUnUsed = this._$lightboxContainerCurrent;\r\n            this._$lightboxContainerCurrent = $newCurrent;\r\n\r\n            // switch z-index\r\n            this._$lightboxContainerCurrent.css(\"z-index\", this._$lightboxContainerUnUsed.css(\"z-index\") + 1);\r\n            this._$lightboxContainerUnUsed.css(\"z-index\", \"auto\");\r\n            this._$lightboxContainerCurrent.css(\"z-index\", 1);\r\n\r\n            this._$lightboxContainerUnUsed.removeClass('in show');\r\n            this._$lightboxContainerCurrent.addClass('in show');\r\n\r\n            return;\r\n        }\r\n\r\n        _handle() {\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n\r\n            // remove css added in '_preloadImage'\r\n            this._$modalDialog.removeClass(\"imageLoading\");\r\n            this._$modalDialog.removeClass(\"imageLoaded\");\r\n            this._$modalDialog.removeClass(\"imageStretched\");\r\n            this._$modalDialog.removeClass(\"isVideo\");\r\n\r\n            // ### End added by DhyMik in v.5.5.0-dhymik:\r\n\r\n            let $toUse = this._$lightboxContainerUnUsed;\r\n\r\n            // fade out header and footer\r\n            this._$modalHeader.css(\"opacity\", 0);\r\n            this._$modalFooter.css(\"opacity\", 0);\r\n\r\n            this._updateTitleAndFooter()\r\n            this._switchContainers()\r\n\r\n            let currentRemote = this._$element.attr('data-remote') || this._$element.attr('href')\r\n            let currentType = this._detectRemoteType(currentRemote, this._$element.attr('data-type') || false)\r\n\r\n            if (['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(currentType) < 0)\r\n                return this._error(this._config.strings.type)\r\n\r\n            switch (currentType) {\r\n                case 'image':\r\n                    let altTag = this._$element.attr('data-alt') || '';\r\n                    this._preloadImage(currentRemote, altTag, $toUse)\r\n                    this._preloadImageByIndex(this._galleryIndex, 3)\r\n                    break;\r\n                case 'youtube':\r\n                    this._showYoutubeVideo(currentRemote, $toUse);\r\n                    break;\r\n                case 'vimeo':\r\n                    this._showVimeoVideo(this._getVimeoId(currentRemote), $toUse);\r\n                    break;\r\n                case 'instagram':\r\n                    this._showInstagramVideo(this._getInstagramId(currentRemote), $toUse);\r\n                    break;\r\n                case 'media':\r\n                    this._showHtml5Media(currentRemote, $toUse);\r\n                    break;\r\n                default: // url\r\n                    this._loadRemoteContent(currentRemote, $toUse);\r\n                    break;\r\n            }\r\n\r\n            var thisLightbox = this;\r\n\r\n            // fade in header and footer after a delay and delete old content\r\n            setTimeout(function () {\r\n                thisLightbox._$modalHeader.css(\"opacity\", 1);\r\n                thisLightbox._$modalFooter.css(\"opacity\", 1);\r\n                thisLightbox._$lightboxContainerUnUsed.empty();\r\n            }, 250);\r\n\r\n            return this;\r\n        }\r\n\r\n        _getYoutubeId(string) {\r\n            if (!string)\r\n                return false;\r\n            let matches = string.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/)\r\n            return (matches && matches[2].length === 11) ? matches[2] : false\r\n        }\r\n\r\n        _getVimeoId(string) {\r\n            return string && string.indexOf('vimeo') > 0 ? string : false\r\n        }\r\n\r\n        _getInstagramId(string) {\r\n            return string && string.indexOf('instagram') > 0 ? string : false\r\n        }\r\n\r\n        // layout private methods\r\n        _toggleLoading(show) {\r\n            show = show || false\r\n            if (show) {\r\n                this._$modalDialog.css('display', 'none')\r\n                this._$modal.removeClass('in show')\r\n                $('.modal-backdrop').append(this._config.loadingMessage)\r\n            }\r\n            else {\r\n                this._$modalDialog.css('display', this._config.verticalAlignCenter ? 'flex' : 'block')\r\n                this._$modal.addClass('in show')\r\n                $('.modal-backdrop').find('.ekko-lightbox-loader').remove()\r\n            }\r\n            return this;\r\n        }\r\n\r\n        _calculateScaleFactor(width, height) {\r\n            /* 'calculateScaleFactor' is the size factor to be applied to an image's or video#s dimensions\r\n             * so it will fill the entire screen if browser window is maximized or full-screened.\r\n             * \r\n             * Added in v.5.5.0-dhymik\r\n             * */\r\n            var screenWidth = window.screen.width;      // these are the hardware screen dimensions,\r\n            var screenHeight = window.screen.height;    // not the browser window\r\n\r\n            var videoMaxDimension = Math.max(width, height);\r\n            var screenMaxDimension = Math.max(screenWidth, screenHeight);\r\n\r\n            return screenMaxDimension / videoMaxDimension;\r\n        }\r\n\r\n        _updateTitleAndFooter() {\r\n            let title = this._$element.data('title') || \"\"\r\n            let caption = this._$element.data('footer') || \"\"\r\n\r\n            this._titleIsShown = false\r\n            if (title || this._config.alwaysShowClose) {\r\n                this._titleIsShown = true\r\n                this._$modalHeader.css('display', '').find('.modal-title').html(title || \"&nbsp;\")\r\n                this._$modalDialog.addClass(\"headerIsShown\");\r\n            }\r\n            else {\r\n                this._$modalHeader.css('display', 'none')\r\n                this._$modalDialog.removeClass(\"headerIsShown\");\r\n            }\r\n\r\n            this._footerIsShown = false\r\n            if (caption) {\r\n                this._footerIsShown = true\r\n                this._$modalFooter.css('display', '').html(caption)\r\n                this._$modalDialog.addClass(\"footerIsShown\");\r\n            }\r\n            else {\r\n                this._$modalFooter.css('display', 'none')\r\n                this._$modalDialog.removeClass(\"footerIsShown\");\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        _showYoutubeVideo(remote, $containerForElement) {\r\n            let id = this._getYoutubeId(remote)\r\n            let query = remote.indexOf('&') > 0 ? remote.substr(remote.indexOf('&')) : ''\r\n            let width = this._$element.data('width') || 560\r\n            let height = this._$element.data('height') || width / (560 / 315)\r\n            return this._showVideoIframe(\r\n                `//www.youtube.com/embed/${id}?badge=0&autoplay=1&html5=1${query}`,\r\n                width,\r\n                height,\r\n                $containerForElement\r\n            );\r\n        }\r\n\r\n        _showVimeoVideo(id, $containerForElement) {\r\n            let width = this._$element.data('width') || 500\r\n            let height = this._$element.data('height') || width / (560 / 315)\r\n            return this._showVideoIframe(id + (id.includes(\"?\") ? '&' : '?') + 'autoplay=1', width, height, $containerForElement);\r\n        }\r\n\r\n        _showInstagramVideo(id, $containerForElement) {\r\n            // instagram load their content into iframes so this can be put straight into the element\r\n            let width = this._$element.data('width') || 612\r\n            let height = width + 80;\r\n            id = id.substr(-1) !== '/' ? id + '/' : id; // ensure id has trailing slash\r\n            $containerForElement.html(`<iframe width=\"${width}\" height=\"${height}\" src=\"${id}embed/\" frameborder=\"0\" allowfullscreen></iframe>`);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            this._toggleLoading(false);\r\n            return this;\r\n        }\r\n\r\n        _showVideoIframe(url, width, height, $containerForElement) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\r\n            height = height || width; // default to square\r\n\r\n            // Added in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // added end.\r\n\r\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><iframe width=\"${width}\" height=\"${height}\" src=\"${url}\" frameborder=\"0\" allowfullscreen class=\"embed-responsive-item\"></iframe></div>`);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            this._toggleLoading(false);\r\n            return this;\r\n        }\r\n\r\n        _showHtml5Media(url, $containerForElement) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\r\n            let contentType = this._getRemoteContentType(url);\r\n            if (!contentType) {\r\n                return this._error(this._config.strings.type)\r\n            }\r\n            let mediaType = '';\r\n            if (contentType.indexOf('audio') > 0) {\r\n                mediaType = 'audio';\r\n            } else {\r\n                mediaType = 'video';\r\n            }\r\n            let width = this._$element.data('width') || 560\r\n            let height = this._$element.data('height') || width / (560 / 315)\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // ### added end.\r\n\r\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><${mediaType} width=\"${width}\" height=\"${height}\" preload=\"auto\" autoplay controls class=\"embed-responsive-item\"><source src=\"${url}\" type=\"${contentType}\">${this._config.strings.type}</${mediaType}></div>`);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            this._toggleLoading(false);\r\n            return this;\r\n        }\r\n\r\n        _loadRemoteContent(url, $containerForElement) {\r\n            let width = this._$element.data('width') || 560;\r\n            let height = this._$element.data('height') || 560;\r\n\r\n            let disableExternalCheck = this._$element.data('disableExternalCheck') || false;\r\n            this._toggleLoading(false);\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // ### added end.\r\n\r\n            // external urls are loading into an iframe\r\n            // local ajax can be loaded into the container itself\r\n            if (!disableExternalCheck && !this._isExternal(url)) {\r\n                $containerForElement.load(url, $.proxy(() => {\r\n                    return this._$element.trigger('loaded.bs.modal');\r\n                }));\r\n\r\n            } else {\r\n                $containerForElement.html(`<iframe src=\"${url}\" frameborder=\"0\" allowfullscreen></iframe>`);\r\n                this._config.onContentLoaded.call(this);\r\n            }\r\n\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n\r\n            this._resize(width, height);\r\n            return this;\r\n        }\r\n\r\n        _isExternal(url) {\r\n            let match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\r\n            if (typeof match[1] === \"string\" && match[1].length > 0 && match[1].toLowerCase() !== location.protocol)\r\n                return true;\r\n\r\n            if (typeof match[2] === \"string\" && match[2].length > 0 && match[2].replace(new RegExp(`:(${{\r\n                \"http:\": 80,\r\n                \"https:\": 443\r\n            }[location.protocol]})?$`), \"\") !== location.host)\r\n                return true;\r\n\r\n            return false;\r\n        }\r\n\r\n        _error(message) {\r\n            console.error(message);\r\n            this._$lightboxContainerCurrent.html(message);\r\n            this._resize(300, 300);\r\n            return this;\r\n        }\r\n\r\n        _preloadImageByIndex(startIndex, numberOfTimes) {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            let next = $(this._$galleryItems.get(startIndex), false)\r\n            if (typeof next == 'undefined')\r\n                return\r\n\r\n            let src = next.attr('data-remote') || next.attr('href')\r\n            if (next.attr('data-type') === 'image' || this._isImage(src))\r\n                this._preloadImage(src, '', false)\r\n\r\n            if (numberOfTimes > 0)\r\n                return this._preloadImageByIndex(startIndex + 1, numberOfTimes - 1);\r\n        }\r\n\r\n        _preloadImage(src, altTag, $containerForImage) {\r\n\r\n            $containerForImage = $containerForImage || false\r\n\r\n            let img = new Image();\r\n            let loadingTimeout = null;\r\n            if ($containerForImage) {\r\n                // if loading takes > 200ms show a loader\r\n                loadingTimeout = setTimeout(() => {\r\n                    $containerForImage.append(this._config.loadingMessage)\r\n                }, 200);\r\n            }\r\n\r\n            img.onload = () => {\r\n                if ($containerForImage) {\r\n\r\n                    if (loadingTimeout)\r\n                        clearTimeout(loadingTimeout)\r\n                    loadingTimeout = null;\r\n\r\n                    let image = $('<img />');\r\n                    image.attr('src', img.src);\r\n                    image.attr('alt', altTag);\r\n                    image.addClass('img-fluid');\r\n\r\n                    // backward compatibility for bootstrap v3\r\n                    image.css('width', '100% !important');\r\n\r\n                    // if the \"data-markup\" attribute is set on the <a> tag...\r\n                    if (this._$element[0].hasAttribute(\"data-markup\")) {\r\n\r\n                        // ...then the \"data-markup\" attribute value provides the repalcement markup\r\n                        var markup = this._$element.attr(\"data-markup\");\r\n                        $containerForImage.html(markup);\r\n                    } else {\r\n                        $containerForImage.html(image);\r\n                    }\r\n\r\n                    if (this._$modalNavLayer) this._$modalNavLayer.css('display', '');\r\n\r\n                    /* ***** determine image dimensions ****\r\n                     * \r\n                     * If image dimensions can be determined \r\n                     * - a max-width inline style is added to .modal-dialog element\r\n                     * - a height inline style is added to .ekko-lightbox-container element\r\n                     * inside of _resize() function.\r\n                     * \r\n                     * In this case, a black backddrop is used behind images to prevent\r\n                     * background bleed during image transitions\r\n                     * \r\n                     * If image dimensions cannot be determined, images are stretched\r\n                     * to maximum dimensions by maximizing all parent containers.\r\n                     * In this case\r\n                     * - 'imageStretched' css class is added to .modal-dialog element\r\n                     * - black backdrop is not being used, to prevent backdrop from\r\n                     *   extending over entire screen regardless of image size.\r\n                     * */\r\n\r\n                    this._$modalDialog.css('display', this._config.verticalAlignCenter ? 'flex' : 'block');\r\n\r\n                    this._$modalDialog.addClass(\"imageLoading\");\r\n                    // temporarily stretches img parent containers so image dimensions can be determined.\r\n\r\n                    var clientWidth = 0;\r\n                    var clientHeight = 0;\r\n\r\n                    // this works in Firefox etc. for jpg AND svg:\r\n                    var imageWidth = $containerForImage.find(\"img\")[0].width;\r\n                    var imageHeight = $containerForImage.find(\"img\")[0].height;\r\n\r\n                    // this works in Chrome etc. for jpg AND svg:\r\n                    var imgWidth = img.width;\r\n                    var imgHeight = img.height;\r\n\r\n                    if (imageWidth > 0 && imageHeight > 0) {\r\n                        clientWidth = imageWidth;\r\n                        clientHeight = imageHeight;\r\n                    }\r\n                    else if (imgWidth > 0 && imgHeight > 0) {\r\n                        clientWidth = imgWidth;\r\n                        clientHeight = imgHeight;\r\n                    }\r\n\r\n                    this._$modalDialog.removeClass(\"imageLoading\");\r\n                    // remove temporary parent container stretch\r\n\r\n                    if (clientWidth > 0 && clientHeight > 0) {\r\n                        // we found image dimensions...\r\n                        if (this._config.debug > 1) alert(\r\n                            \"imageWidth: \" + imageWidth + \", \\\\n\" +\r\n                            \"imageHeight: \" + imageHeight + \", \\\\n\" +\r\n                            \"imgWidth: \" + imgWidth + \", \\\\n\" +\r\n                            \"imgHeight: \" + imgHeight + \".\"\r\n                        );\r\n                        // ...resize the parent containers accordingly:\r\n                        this._resize(clientWidth, clientHeight);\r\n                    }\r\n                    else {\r\n                        // we did not find image dimensions, use stretch method by css:\r\n                        this._$modalDialog.addClass(\"imageStretched\");\r\n                        if (this._config.debug > 1) alert(\"imageStretched\");\r\n                        if (window.console) console.log(\"ekko lightbox: using 'imageStretched' mode for \" + img.src);\r\n                    }\r\n\r\n                    this._$modalDialog.addClass(\"imageLoaded\");\r\n\r\n                    this._toggleLoading(false);\r\n                    return this._config.onContentLoaded.call(this);\r\n                }\r\n            };\r\n\r\n            if ($containerForImage) {\r\n                img.onerror = () => {\r\n                    this._toggleLoading(false);\r\n                    return this._error(this._config.strings.fail + `  ${src}`);\r\n                };\r\n            }\r\n\r\n            img.src = src;\r\n            return img;\r\n        }\r\n\r\n        _swipeGesure() {\r\n            if (this._touchendX < this._touchstartX) {\r\n                return this.navigateRight();\r\n            }\r\n            if (this._touchendX > this._touchstartX) {\r\n                return this.navigateLeft();\r\n            }\r\n        }\r\n\r\n        _resize(width, height) {\r\n\r\n            height = height || width;\r\n\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n\r\n            this._wantedWidth = width;\r\n            this._wantedHeight = height;\r\n\r\n            if (this._config.debug > 1) alert(\"wanted width: \" + this._wantedWidth + \", wanted height: \" + this._wantedHeight);\r\n\r\n            let imageAspecRatio = width / height;\r\n\r\n            this._$modalDialog.addClass(\"imageLoading\");\r\n            // temporarily stretches img parent containers so element dimensions can be determined.\r\n\r\n            var modalDialogOuterWidthExcludingMargins = this._$modalDialog.outerWidth(false);\r\n            var modalImageContainerInnerWidth = this._$lightboxContainer.innerWidth();\r\n\r\n            var modalDialogOuterHeightExcludingMargins = this._$modalDialog.outerHeight(false);\r\n            var modalDialogOuterHeightIncludingMargins = this._$modalDialog.outerHeight(true);\r\n            var modalImageContainerInnerHeight = this._$lightboxContainer.innerHeight();\r\n\r\n            this._$modalDialog.removeClass(\"imageLoading\");\r\n\r\n            // the width difference between image container and .modal-dialog element (excluding its margin), which gets the 'max-width' inline style added\r\n            var widthInnerSpacing = modalDialogOuterWidthExcludingMargins - modalImageContainerInnerWidth;\r\n\r\n            // the height difference between .moda-dialog element (excluding its margins) and the image container element, which gets the 'height' inline style added\r\n            var heightInnerSpacing = modalDialogOuterHeightExcludingMargins - modalImageContainerInnerHeight;\r\n            var heightOuterSpacing = modalDialogOuterHeightIncludingMargins - modalImageContainerInnerHeight;\r\n\r\n            let maxWidth = Math.min(modalDialogOuterWidthExcludingMargins, this._config.doc.body.clientWidth, this._config.maxWidth)\r\n\r\n            // if width > the available space, scale down the expected width and height\r\n\r\n            if ((width + widthInnerSpacing) > maxWidth) {\r\n                height = (maxWidth - widthInnerSpacing) / imageAspecRatio;\r\n                width = maxWidth\r\n            } else\r\n                width = (width + widthInnerSpacing)\r\n\r\n            let headerHeight = 0,\r\n                footerHeight = 0\r\n\r\n            // as the resize is performed the modal is show, the calculate might fail\r\n            // if so, default to the default sizes\r\n            if (this._footerIsShown)\r\n                footerHeight = this._$modalFooter.outerHeight(true) || 55\r\n\r\n            if (this._titleIsShown)\r\n                headerHeight = this._$modalHeader.outerHeight(true) || 67\r\n\r\n            let maxHeight = Math.min(height, window.innerHeight - heightOuterSpacing - headerHeight - footerHeight, this._config.maxHeight - heightInnerSpacing - headerHeight - footerHeight);\r\n\r\n            if (height > maxHeight) {\r\n                // if height > the available height, scale down the width\r\n                width = Math.ceil(maxHeight * imageAspecRatio) + widthInnerSpacing;\r\n            }\r\n\r\n            this._$lightboxContainer.css('height', maxHeight)\r\n            this._$modalDialog.css('flex', '1').css('maxWidth', width);\r\n\r\n            if (this._config.debug > 0 && this._$debugInfo) {\r\n                var message = \"window width: \" + $(window).width()\r\n                    + \",\\nwindow height: \" + $(window).height()\r\n                    + \",\\nwindow screen width: \" + window.screen.width\r\n                    + \",\\nwindow screen height: \" + window.screen.height\r\n                    + \",\\nwindow inner width: \" + window.innerWidth\r\n                    + \",\\nwindow inner height: \" + window.innerHeight\r\n                    + \",\\n maxheight: \" + maxHeight;\r\n\r\n                this._$debugInfo.text(message);\r\n            }\r\n\r\n            let modal = this._$modal.data('bs.modal');\r\n            if (modal) {\r\n                // v4 method is mistakenly protected\r\n                try {\r\n                    modal._handleUpdate();\r\n                } catch (Exception) {\r\n                    modal.handleUpdate();\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        static _jQueryInterface(config) {\r\n            config = config || {}\r\n            return this.each(() => {\r\n                let $this = $(this)\r\n                let _config = $.extend(\r\n                    {},\r\n                    Lightbox.Default,\r\n                    $this.data(),\r\n                    typeof config === 'object' && config\r\n                )\r\n\r\n                new Lightbox(this, _config)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    $.fn[NAME] = Lightbox._jQueryInterface\r\n    $.fn[NAME].Constructor = Lightbox\r\n    $.fn[NAME].noConflict = () => {\r\n        $.fn[NAME] = JQUERY_NO_CONFLICT\r\n        return Lightbox._jQueryInterface\r\n    }\r\n\r\n    return Lightbox\r\n\r\n})(jQuery)\r\n\r\nexport default Lightbox\r\n"],"sourceRoot":""}