{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ekko-lightbox.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Lightbox","$","NAME","JQUERY_NO_CONFLICT","fn","Default","debug","title","footer","maxWidth","maxHeight","showArrows","hideArrowsOnVideo","wrapping","type","alwaysShowClose","fade","verticalAlignCenter","loadingMessage","leftArrow","rightArrow","strings","close","fail","doc","document","onShow","onShown","onHide","onHidden","onNavigate","onContentLoaded","$element","config","_this2","this","_classCallCheck","_this","_config","extend","_$modalNavLayer","_$modalArrows","_$debugInfo","_galleryIndex","_galleryName","_titleIsShown","_footerIsShown","_wantedWidth","_wantedHeight","_touchstartX","_touchendX","_modalId","Math","floor","random","_$element","jQuery","_isBootstrap3","modal","Constructor","VERSION","h4","btn","dialog","body","append","_$modal","find","first","_$modalDialog","_$modalContent","_$modalBody","_$modalHeader","_$modalFooter","_$lightboxContainer","_$lightboxBodyOne","_$lightboxBodyTwo","_$lightboxContainerCurrent","_$lightboxContainerUnUsed","data","_$galleryItems","index","on","_navigationalBinder","bind","length","prepend","addClass","initTimer","window","setTimeout","clearInit","clearTimeout","removeClass","event","preventDefault","navigateLeft","navigateRight","hover","filter","removeAttr","updateNavigation","_toggleLoading","_handle","off","remove","_resize","changedTouches","screenX","_swipeGesure","blur","_createClass","key","navigateTo","$nav","keyCode","src","_isImage","_getWebstreamId","_getYoutubeId","_getVimeoId","_getInstagramId","_isMedia","indexOf","ajax","url","async","getResponseHeader","string","match","_this3","$newCurrent","css","$toUse","_updateTitleAndFooter","_switchContainers","currentRemote","attr","currentType","_detectRemoteType","_error","altTag","_preloadImage","_preloadImageByIndex","_showWebstreamVideo","_showYoutubeVideo","_showVimeoVideo","_showInstagramVideo","_showHtml5Media","_loadRemoteContent","thisLightbox","empty","matches","show","width","height","screenWidth","screen","screenHeight","videoMaxDimension","max","caption","html","id","$containerForElement","_showVideoIframe","includes","remote","query","substr","delay","scalingFactor","_calculateScaleFactor","contentType","_getRemoteContentType","mediaType","_this4","disableExternalCheck","_isExternal","load","proxy","trigger","toLowerCase","location","protocol","replace","RegExp","http:","https:","host","message","console","error","startIndex","numberOfTimes","next","$containerForImage","_this5","img","Image","loadingTimeout","onload","image","hasAttribute","markup","clientWidth","clientHeight","imageWidth","imageHeight","imgWidth","imgHeight","alert","log","onerror","imageAspecRatio","modalDialogOuterWidthExcludingMargins","outerWidth","modalImageContainerInnerWidth","innerWidth","modalDialogOuterHeightExcludingMargins","outerHeight","modalDialogOuterHeightIncludingMargins","modalImageContainerInnerHeight","innerHeight","widthInnerSpacing","heightInnerSpacing","heightOuterSpacing","min","headerHeight","footerHeight","ceil","text","_handleUpdate","Exception","handleUpdate","_this6","each","$this","_typeof","_jQueryInterface","noConflict"],"mappings":"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","file":"ekko-lightbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const Lightbox = (($) => {\r\n\r\n    /* Added in v.5.5.0-dhymik:\r\n     * (search for \"added by DhyMik\")\r\n     * \r\n     * 1. auto max data dimensions to max screen dimensions\r\n     * \r\n     *    This solves issues with svg displayed too small\r\n     *    and images / video frames not filling the screen\r\n     * \r\n     * 2. skip resizing and adding inline size styles when\r\n     *    'lightboxFullSize' css class is added to the lighbox <a> tag\r\n     *    \r\n     *    Use this if\r\n     * \r\n     * Changed in 5.5.1-dhymik (2023-04-02):\r\n     * - Vimeo player url will not break if url contains querystring parameters\r\n     * \r\n     * Changed in 5.5.2-dhymik\r\n     * - added support for webstream.eu videos\r\n     */\r\n\r\n\r\n    const NAME = 'ekkoLightbox'\r\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n\r\n    const Default = {\r\n        debug: 0,   // 0: no debug, 1: on-screen info, 2: on-screen plus pop-ups\r\n        title: '',\r\n        footer: '',\r\n        maxWidth: 9999,\r\n        maxHeight: 9999,\r\n        showArrows: true, //display the left / right arrows or not\r\n        hideArrowsOnVideo: false, //hide the left / right arrows for videos\r\n        wrapping: true, //if true, gallery loops infinitely\r\n        type: null, //force the lightbox into image / youtube mode. if null, or not image|youtube|vimeo; detect it\r\n        alwaysShowClose: false, //always show the close button, even if there is no title\r\n        fade: true, // fade in or not\r\n        verticalAlignCenter: false, // vertically centered modal\r\n        loadingMessage: '<div class=\"ekko-lightbox-loader\"><div><div></div><div></div></div></div>', // http://tobiasahlin.com/spinkit/\r\n        leftArrow: '<span>&#10094;</span>',\r\n        rightArrow: '<span>&#10095;</span>',\r\n        strings: {\r\n            close: 'Close',\r\n            fail: 'Failed to load image:',\r\n            type: 'Could not detect remote target type. Force the type using data-type',\r\n        },\r\n        doc: document, // if in an iframe can specify top.document\r\n        onShow() { },\r\n        onShown() { },\r\n        onHide() { },\r\n        onHidden() { },\r\n        onNavigate() { },\r\n        onContentLoaded() { },\r\n    }\r\n\r\n    class Lightbox {\r\n\r\n        /**\r\n\r\n        Class properties:\r\n\r\n         _$element: null -> the <a> element currently being displayed\r\n         _$modal: The bootstrap modal generated\r\n            _$modalDialog: The .modal-dialog\r\n            _$modalContent: The .modal-content\r\n            _$modalBody: The .modal-body\r\n            _$modalHeader: The .modal-header\r\n            _$modalFooter: The .modal-footer\r\n         _$lightboxContainerOne: Container of the first lightbox element\r\n         _$lightboxContainerTwo: Container of the second lightbox element\r\n         _$lightboxContainerCurrent: the container in use\r\n         _$lightboxContainerUnUsed: the currently unused container\r\n         _$lightboxBody: First element in the container\r\n         _$modalNavLayer: The navigation container, overlaid for images, underlaid for videos\r\n         _$modalArrows: The overlayed arrows container, always overlaid\r\n\r\n         _$galleryItems: Other <a>'s available for this gallery\r\n         _galleryName: Name of the current data('gallery') showing\r\n         _galleryIndex: The current index of the _$galleryItems being shown\r\n\r\n         _config: {} the options for the modal\r\n         _modalId: unique id for the current lightbox\r\n\r\n         */\r\n\r\n        static get Default() {\r\n            return Default\r\n        }\r\n\r\n        constructor($element, config) {\r\n\r\n            let _this = this;\r\n\r\n            this._config = $.extend({}, Default, config);\r\n            this._$modalNavLayer = null;\r\n            this._$modalArrows = null;\r\n            this._$debugInfo = null;\r\n            this._galleryIndex = 0;\r\n            this._galleryName = null;\r\n            this._titleIsShown = false;\r\n            this._footerIsShown = false;\r\n            this._wantedWidth = 0;\r\n            this._wantedHeight = 0;\r\n            this._touchstartX = 0;\r\n            this._touchendX = 0;\r\n\r\n            this._modalId = `ekkoLightbox-${Math.floor((Math.random() * 1000) + 1)}`;\r\n            this._$element = $element instanceof jQuery ? $element : $($element);\r\n\r\n            this._isBootstrap3 = $.fn.modal.Constructor.VERSION[0] == 3;\r\n\r\n            let h4 = `<h4 class=\"modal-title\">${this._config.title || \"&nbsp;\"}</h4>`;\r\n            let btn = `<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"${this._config.strings.close}\"><span aria-hidden=\"true\">&times;</span></button>`;\r\n\r\n            let fade = this._config.fade ? 'fade in' : '';\r\n            let vertical = this._config.verticalAlignCenter ? 'modal-dialog-centered' : '';\r\n\r\n            let header = `<div class=\"modal-header${this._config.title || this._config.alwaysShowClose ? '' : ' hide'}\">` + (this._isBootstrap3 ? btn + h4 : h4 + btn) + `</div>`;\r\n            let footer = `<div class=\"modal-footer${this._config.footer ? '' : ' hide'}\">${this._config.footer || \"&nbsp;\"}</div>`;\r\n            let body = `<div class=\"modal-body\"><div class=\"ekko-lightbox-container\"><div class=\"ekko-lightbox-item ${fade} show\"></div><div class=\"ekko-lightbox-item fade\"></div></div></div>`;\r\n            let dialog = `<div class=\"modal-dialog ${vertical}\" role=\"document\"><div class=\"modal-content\">${header}${body}${footer}</div></div>`;\r\n            $(this._config.doc.body).append(`<div id=\"${this._modalId}\" class=\"ekko-lightbox modal fade\" tabindex=\"-1\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">${dialog}</div>`);\r\n\r\n            this._$modal = $(`#${this._modalId}`, this._config.doc);\r\n\r\n            if (this._config.debug > 0) this._$modal.append(`<div class=\"modal-debug-info\"></div>`);\r\n            this._$debugInfo = this._$modal.find('.modal-debug-info').first();\r\n\r\n            this._$modalDialog = this._$modal.find('.modal-dialog').first();\r\n            this._$modalContent = this._$modal.find('.modal-content').first();\r\n            this._$modalBody = this._$modal.find('.modal-body').first();\r\n            this._$modalHeader = this._$modal.find('.modal-header').first();\r\n            this._$modalFooter = this._$modal.find('.modal-footer').first();\r\n\r\n            this._$lightboxContainer = this._$modalBody.find('.ekko-lightbox-container').first();\r\n            this._$lightboxBodyOne = this._$lightboxContainer.find('> div:first-child').first();\r\n            this._$lightboxBodyTwo = this._$lightboxContainer.find('> div:last-child').first();\r\n            this._$lightboxContainerCurrent = this._$lightboxBodyOne;\r\n            this._$lightboxContainerUnUsed = this._$lightboxBodyTwo;\r\n\r\n            this._galleryName = this._$element.data('gallery');\r\n            if (this._galleryName) {\r\n                this._$galleryItems = $(document.body).find(`*[data-gallery=\"${this._galleryName}\"]`);\r\n                this._galleryIndex = this._$galleryItems.index(this._$element);\r\n                $(document).on('keydown.ekkoLightbox', this._navigationalBinder.bind(this));\r\n\r\n                // add the directional arrows to the modal\r\n                if (this._config.showArrows && this._$galleryItems.length > 1) {\r\n\r\n                    // add the navigation layer with full surface links\r\n                    this._$lightboxContainer.prepend(`<div class=\"ekko-lightbox-nav-overlay\"><a href=\"#\"></a><a href=\"#\"></a></div>`);\r\n                    this._$modalNavLayer = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay').first();\r\n\r\n                    // add the link arrows suitable also for video overlay\r\n                    this._$lightboxContainer.append(`<div class=\"ekko-lightbox-nav-arrows\"><a href=\"#\">${this._config.leftArrow}</a><a href=\"#\">${this._config.rightArrow}</a></div>`);\r\n                    this._$modalArrows = this._$lightboxContainer.find('div.ekko-lightbox-nav-arrows').first();\r\n\r\n                    // show highlighted nav arrows...\r\n                    this._$modalArrows.find('a').addClass('init');\r\n\r\n                    // ...and remove the highlight after 5 seconds,\r\n                    // or when hover or navigation happens, see below.\r\n                    var initTimer = window.setTimeout(\r\n                        function () {\r\n                            clearInit(_this._$modalArrows);\r\n                        }, 5000);\r\n\r\n                    var clearInit = function () {\r\n                        clearTimeout(initTimer);\r\n                        _this._$modalArrows.find('a').removeClass('init');\r\n                    }\r\n\r\n                    // add the click event handlers to all links\r\n                    this._$lightboxContainer.on('click', 'a:first-child', event => {\r\n                        event.preventDefault();\r\n                        clearInit(this._$modalArrows);\r\n                        return _this.navigateLeft();\r\n                    })\r\n                    this._$lightboxContainer.on('click', 'a:last-child', event => {\r\n                        event.preventDefault();\r\n                        clearInit(this._$modalArrows);\r\n                        return _this.navigateRight();\r\n                    })\r\n\r\n                    // add the hover event handlers to nav surface links, adding hover class to arrow links\r\n                    this._$modalNavLayer.find('a:first-child').hover(\r\n                        () => {\r\n                            _this._$modalArrows.find('a:first-child').addClass('hover');\r\n                            clearInit(this._$modalArrows);\r\n                        },\r\n                        () => {\r\n                            _this._$modalArrows.find('a:first-child').removeClass('hover').filter('[class=\"\"]').removeAttr('class');\r\n                        }\r\n                    );\r\n                    this._$modalNavLayer.find('a:last-child').hover(\r\n                        () => {\r\n                            _this._$modalArrows.find('a:last-child').addClass('hover');\r\n                            clearInit(this._$modalArrows);\r\n                        },\r\n                        () => {\r\n                            _this._$modalArrows.find('a:last-child').removeClass('hover').filter('[class=\"\"]').removeAttr('class');\r\n                        }\r\n                    );\r\n\r\n                    this.updateNavigation();\r\n                }\r\n            }\r\n\r\n            this._$modal\r\n                .on('show.bs.modal', this._config.onShow.bind(this))\r\n                .on('shown.bs.modal', () => {\r\n                    _this._toggleLoading(true);\r\n                    _this._handle();\r\n                    return _this._config.onShown.call(this);\r\n                })\r\n                .on('hide.bs.modal', this._config.onHide.bind(this))\r\n                .on('hidden.bs.modal', () => {\r\n                    if (_this._galleryName) {\r\n                        $(document).off('keydown.ekkoLightbox');\r\n                        $(window).off('resize.ekkoLightbox');\r\n                    }\r\n                    _this._$modal.remove();\r\n                    return this._config.onHidden.call(this);\r\n                })\r\n                .modal(this._config);\r\n\r\n            $(window).on('resize.ekkoLightbox', () => {\r\n                _this._resize(_this._wantedWidth, _this._wantedHeight);\r\n            });\r\n\r\n            this._$lightboxContainer\r\n                .on('touchstart', () => {\r\n                    _this._touchstartX = event.changedTouches[0].screenX;\r\n\r\n                })\r\n                .on('touchend', () => {\r\n                    _this._touchendX = event.changedTouches[0].screenX;\r\n                    _this._swipeGesure();\r\n                    _this._$modalArrows.find('a').blur();\r\n                });\r\n        }\r\n\r\n        element() {\r\n            return this._$element;\r\n        }\r\n\r\n        modal() {\r\n            return this._$modal;\r\n        }\r\n\r\n        navigateTo(index) {\r\n\r\n            if (index < 0 || index > this._$galleryItems.length - 1)\r\n                return this;\r\n\r\n            this._galleryIndex = index;\r\n\r\n            this.updateNavigation();\r\n\r\n            this._$element = $(this._$galleryItems.get(this._galleryIndex));\r\n            this._handle();\r\n        }\r\n\r\n        navigateLeft() {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            if (this._$galleryItems.length === 1)\r\n                return;\r\n\r\n            if (this._galleryIndex === 0) {\r\n                if (this._config.wrapping)\r\n                    this._galleryIndex = this._$galleryItems.length - 1;\r\n                else\r\n                    return;\r\n            }\r\n            else //circular\r\n                this._galleryIndex--;\r\n\r\n            this._config.onNavigate.call(this, 'left', this._galleryIndex);\r\n            return this.navigateTo(this._galleryIndex);\r\n        }\r\n\r\n        navigateRight() {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            if (this._$galleryItems.length === 1)\r\n                return;\r\n\r\n            if (this._galleryIndex === this._$galleryItems.length - 1) {\r\n                if (this._config.wrapping)\r\n                    this._galleryIndex = 0;\r\n                else\r\n                    return;\r\n            }\r\n            else //circular\r\n                this._galleryIndex++;\r\n\r\n            this._config.onNavigate.call(this, 'right', this._galleryIndex);\r\n            return this.navigateTo(this._galleryIndex);\r\n        }\r\n\r\n        updateNavigation() {\r\n            if (!this._config.wrapping) {\r\n                let $nav = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay');\r\n                if (this._galleryIndex === 0)\r\n                    $nav.find('a:first-child').addClass('disabled');\r\n                else\r\n                    $nav.find('a:first-child').removeClass('disabled');\r\n\r\n                if (this._galleryIndex === this._$galleryItems.length - 1)\r\n                    $nav.find('a:last-child').addClass('disabled');\r\n                else\r\n                    $nav.find('a:last-child').removeClass('disabled');\r\n            }\r\n        }\r\n\r\n        close() {\r\n            return this._$modal.modal('hide');\r\n        }\r\n\r\n        // helper private methods\r\n        _navigationalBinder(event) {\r\n            event = event || window.event;\r\n            if (event.keyCode === 39)\r\n                return this.navigateRight();\r\n            if (event.keyCode === 37)\r\n                return this.navigateLeft();\r\n        }\r\n\r\n        // type detection private methods\r\n        _detectRemoteType(src, type) {\r\n\r\n            type = type || false;\r\n\r\n            if (!type && this._isImage(src))\r\n                type = 'image';\r\n            if (!type && this._getWebstreamId(src))\r\n                type = 'webstream';\r\n            if (!type && this._getYoutubeId(src))\r\n                type = 'youtube';\r\n            if (!type && this._getVimeoId(src))\r\n                type = 'vimeo';\r\n            if (!type && this._getInstagramId(src))\r\n                type = 'instagram';\r\n            if (type == 'audio' || type == 'video' || (!type && this._isMedia(src)))\r\n                type = 'media';\r\n            if (!type || ['image', 'webstream', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\r\n                type = 'url';\r\n\r\n            return type;\r\n        }\r\n\r\n        _getRemoteContentType(src) {\r\n            let response = $.ajax({\r\n                type: 'HEAD',\r\n                url: src,\r\n                async: false\r\n            });\r\n            let contentType = response.getResponseHeader('Content-Type');\r\n            return contentType;\r\n        }\r\n\r\n        _isImage(string) {\r\n            return string && string.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i);\r\n        }\r\n\r\n        _isMedia(string) {\r\n            return string && string.match(/(\\.(mp3|mp4|ogg|webm|wav)((\\?|#).*)?$)/i);\r\n        }\r\n\r\n        _switchContainers() {\r\n\r\n            let $newCurrent = this._$lightboxContainerUnUsed;\r\n            this._$lightboxContainerUnUsed = this._$lightboxContainerCurrent;\r\n            this._$lightboxContainerCurrent = $newCurrent;\r\n\r\n            // switch z-index\r\n            this._$lightboxContainerCurrent.css(\"z-index\", this._$lightboxContainerUnUsed.css(\"z-index\") + 1);\r\n            this._$lightboxContainerUnUsed.css(\"z-index\", \"auto\");\r\n            this._$lightboxContainerCurrent.css(\"z-index\", 1);\r\n\r\n            this._$lightboxContainerUnUsed.removeClass('in show');\r\n\r\n            setTimeout(() => {\r\n                this._$lightboxContainerCurrent.addClass('in show');\r\n            }, 500);\r\n\r\n            return;\r\n        }\r\n\r\n        _handle() {\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n\r\n            // remove css added in '_preloadImage'\r\n            this._$modalDialog.removeClass(\"imageLoading\");\r\n            this._$modalDialog.removeClass(\"imageLoaded\");\r\n            this._$modalDialog.removeClass(\"imageStretched\");\r\n            this._$modalDialog.removeClass(\"isVideo\");\r\n\r\n            // ### End added by DhyMik in v.5.5.0-dhymik:\r\n\r\n            let $toUse = this._$lightboxContainerUnUsed;\r\n\r\n            // fade out header and footer\r\n            this._$modalHeader.css(\"opacity\", 0);\r\n            this._$modalFooter.css(\"opacity\", 0);\r\n\r\n            this._updateTitleAndFooter();\r\n            this._switchContainers();\r\n\r\n            let currentRemote = this._$element.attr('data-remote') || this._$element.attr('href');\r\n            let currentType = this._detectRemoteType(currentRemote, this._$element.attr('data-type') || false);\r\n\r\n            if (['image', 'webstream', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(currentType) < 0)\r\n                return this._error(this._config.strings.type);\r\n\r\n            switch (currentType) {\r\n                case 'image':\r\n                    let altTag = this._$element.attr('data-alt') || '';\r\n                    this._preloadImage(currentRemote, altTag, $toUse);\r\n                    this._preloadImageByIndex(this._galleryIndex, 3);\r\n                    break;\r\n                case 'webstream':\r\n                    this._showWebstreamVideo(this._getWebstreamId(currentRemote), $toUse);\r\n                    break;\r\n                case 'youtube':\r\n                    this._showYoutubeVideo(currentRemote, $toUse);\r\n                    break;\r\n                case 'vimeo':\r\n                    this._showVimeoVideo(this._getVimeoId(currentRemote), $toUse);\r\n                    break;\r\n                case 'instagram':\r\n                    this._showInstagramVideo(this._getInstagramId(currentRemote), $toUse);\r\n                    break;\r\n                case 'media':\r\n                    this._showHtml5Media(currentRemote, $toUse);\r\n                    break;\r\n                default: // url\r\n                    this._loadRemoteContent(currentRemote, $toUse);\r\n                    break;\r\n            }\r\n\r\n            var thisLightbox = this;\r\n\r\n            // fade in header and footer after a delay and delete old content\r\n            setTimeout(function () {\r\n                thisLightbox._$modalHeader.css(\"opacity\", 1);\r\n                thisLightbox._$modalFooter.css(\"opacity\", 1);\r\n                thisLightbox._$lightboxContainerUnUsed.empty();\r\n            }, 250);\r\n\r\n            return this;\r\n        }\r\n\r\n        _getWebstreamId(string) {\r\n            /* id is the entire url fetched from data-remote or href attribute */\r\n            return string && string.indexOf('webstream.eu') > 0 ? string : false;\r\n        }\r\n\r\n        _getYoutubeId(string) {\r\n            /* Youtube id here is just the 11 character video id of the url */\r\n            if (!string)\r\n                return false;\r\n            let matches = string.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/);\r\n            return (matches && matches[2].length === 11) ? matches[2] : false;\r\n        }\r\n\r\n        _getVimeoId(string) {\r\n            /* id is the entire url fetched from data-remote or href attribute */\r\n            return string && string.indexOf('vimeo') > 0 ? string : false;\r\n        }\r\n\r\n        _getInstagramId(string) {\r\n            /* id is the entire url fetched from data-remote or href attribute */\r\n            return string && string.indexOf('instagram') > 0 ? string : false;\r\n        }\r\n\r\n        // layout private methods\r\n        _toggleLoading(show) {\r\n            show = show || false;\r\n            if (show) {\r\n                this._$modalDialog.css('display', 'none');\r\n                this._$modal.removeClass('in show');\r\n                $('.modal-backdrop').append(this._config.loadingMessage);\r\n            }\r\n            else {\r\n                this._$modalDialog.css('display', this._config.verticalAlignCenter ? 'flex' : 'block');\r\n                this._$modal.addClass('in show');\r\n                $('.modal-backdrop').find('.ekko-lightbox-loader').remove();\r\n            }\r\n            return this;\r\n        }\r\n\r\n        _calculateScaleFactor(width, height) {\r\n            /* 'calculateScaleFactor' is the size factor to be applied to an image's or video#s dimensions\r\n             * so it will fill the entire screen if browser window is maximized or full-screened.\r\n             * \r\n             * Added in v.5.5.0-dhymik\r\n             * */\r\n            var screenWidth = window.screen.width;      // these are the hardware screen dimensions,\r\n            var screenHeight = window.screen.height;    // not the browser window\r\n\r\n            var videoMaxDimension = Math.max(width, height);\r\n            var screenMaxDimension = Math.max(screenWidth, screenHeight);\r\n\r\n            return screenMaxDimension / videoMaxDimension;\r\n        }\r\n\r\n        _updateTitleAndFooter() {\r\n            let title = this._$element.data('title') || \"\";\r\n            let caption = this._$element.data('footer') || \"\";\r\n\r\n            this._titleIsShown = false;\r\n            if (title || this._config.alwaysShowClose) {\r\n                this._titleIsShown = true;\r\n                this._$modalHeader.css('display', '').find('.modal-title').html(title || \"&nbsp;\");\r\n                this._$modalDialog.addClass(\"headerIsShown\");\r\n            }\r\n            else {\r\n                this._$modalHeader.css('display', 'none');\r\n                this._$modalDialog.removeClass(\"headerIsShown\");\r\n            }\r\n\r\n            this._footerIsShown = false\r\n            if (caption) {\r\n                this._footerIsShown = true;\r\n                this._$modalFooter.css('display', '').html(caption);\r\n                this._$modalDialog.addClass(\"footerIsShown\");\r\n            }\r\n            else {\r\n                this._$modalFooter.css('display', 'none');\r\n                this._$modalDialog.removeClass(\"footerIsShown\");\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        _showWebstreamVideo(id, $containerForElement) {\r\n            let width = this._$element.data('width') || 500;\r\n            let height = this._$element.data('height') || width / (560 / 315);\r\n            return this._showVideoIframe(\r\n                id + (id.includes(\"?\") ? '&' : '?') + 'autoplay=1',\r\n                width,\r\n                height,\r\n                $containerForElement,\r\n                500 // webstream shows white flash on iframe load, therefore, add 500ms delay before switching div's\r\n            );\r\n        }\r\n\r\n        _showYoutubeVideo(remote, $containerForElement) {\r\n            let id = this._getYoutubeId(remote);\r\n            let query = remote.indexOf('&') > 0 ? remote.substr(remote.indexOf('&')) : '';\r\n            let width = this._$element.data('width') || 560;\r\n            let height = this._$element.data('height') || width / (560 / 315);\r\n            return this._showVideoIframe(\r\n                `//www.youtube.com/embed/${id}?badge=0&autoplay=1&html5=1${query}`,\r\n                width,\r\n                height,\r\n                $containerForElement\r\n            );\r\n        }\r\n\r\n        _showVimeoVideo(id, $containerForElement) {\r\n            let width = this._$element.data('width') || 500;\r\n            let height = this._$element.data('height') || width / (560 / 315);\r\n            return this._showVideoIframe(id + (id.includes(\"?\") ? '&' : '?') + 'autoplay=1', width, height, $containerForElement);\r\n        }\r\n\r\n        _showInstagramVideo(id, $containerForElement) {\r\n            // instagram load their content into iframes so this can be put straight into the element\r\n            let width = this._$element.data('width') || 612;\r\n            let height = width + 80;\r\n            id = id.substr(-1) !== '/' ? id + '/' : id; // ensure id has trailing slash\r\n            $containerForElement.html(`<iframe width=\"${width}\" height=\"${height}\" src=\"${id}embed/\" frameborder=\"0\" allowfullscreen></iframe>`);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            this._toggleLoading(false);\r\n            return this;\r\n        }\r\n\r\n        _showVideoIframe(url, width, height, $containerForElement, delay) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\r\n            height = height || width; // default to square\r\n\r\n            // Added in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // added end.\r\n\r\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><iframe width=\"${width}\" height=\"${height}\" src=\"${url}\" frameborder=\"0\" allow=\"autoplay; picture-in-picture\" allowfullscreen class=\"embed-responsive-item\"></iframe></div>`);\r\n            this._toggleLoading(false);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            \r\n            return this;\r\n        }\r\n\r\n        _showHtml5Media(url, $containerForElement) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\r\n            let contentType = this._getRemoteContentType(url);\r\n            if (!contentType) {\r\n                return this._error(this._config.strings.type);\r\n            }\r\n            let mediaType = '';\r\n            if (contentType.indexOf('audio') > 0) {\r\n                mediaType = 'audio';\r\n            } else {\r\n                mediaType = 'video';\r\n            }\r\n            let width = this._$element.data('width') || 560;\r\n            let height = this._$element.data('height') || width / (560 / 315);\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // ### added end.\r\n\r\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><${mediaType} width=\"${width}\" height=\"${height}\" preload=\"auto\" autoplay controls class=\"embed-responsive-item\"><source src=\"${url}\" type=\"${contentType}\">${this._config.strings.type}</${mediaType}></div>`);\r\n            this._resize(width, height);\r\n            this._config.onContentLoaded.call(this);\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n            this._toggleLoading(false);\r\n            return this;\r\n        }\r\n\r\n        _loadRemoteContent(url, $containerForElement) {\r\n            let width = this._$element.data('width') || 560;\r\n            let height = this._$element.data('height') || 560;\r\n\r\n            let disableExternalCheck = this._$element.data('disableExternalCheck') || false;\r\n            this._toggleLoading(false);\r\n\r\n            // ### Added by DhyMik in v.5.5.0-dhymik:\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n            // ### added end.\r\n\r\n            // external urls are loading into an iframe\r\n            // local ajax can be loaded into the container itself\r\n            if (!disableExternalCheck && !this._isExternal(url)) {\r\n                $containerForElement.load(url, $.proxy(() => {\r\n                    return this._$element.trigger('loaded.bs.modal');\r\n                }));\r\n\r\n            } else {\r\n                $containerForElement.html(`<iframe src=\"${url}\" frameborder=\"0\" allowfullscreen></iframe>`);\r\n                this._config.onContentLoaded.call(this);\r\n            }\r\n\r\n            if (this._$modalNavLayer) this._$modalNavLayer.css('display', !this._config.hideArrowsOnVideo ? '' : 'none');\r\n            this._$modalDialog.addClass(\"isVideo\");\r\n\r\n            this._resize(width, height);\r\n            return this;\r\n        }\r\n\r\n        _isExternal(url) {\r\n            let match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\r\n            if (typeof match[1] === \"string\" && match[1].length > 0 && match[1].toLowerCase() !== location.protocol)\r\n                return true;\r\n\r\n            if (typeof match[2] === \"string\" && match[2].length > 0 && match[2].replace(new RegExp(`:(${{\r\n                \"http:\": 80,\r\n                \"https:\": 443\r\n            }[location.protocol]})?$`), \"\") !== location.host)\r\n                return true;\r\n\r\n            return false;\r\n        }\r\n\r\n        _error(message) {\r\n            console.error(message);\r\n            this._$lightboxContainerCurrent.html(message);\r\n            this._resize(300, 300);\r\n            return this;\r\n        }\r\n\r\n        _preloadImageByIndex(startIndex, numberOfTimes) {\r\n\r\n            if (!this._$galleryItems)\r\n                return;\r\n\r\n            let next = $(this._$galleryItems.get(startIndex), false);\r\n            if (typeof next == 'undefined')\r\n                return;\r\n\r\n            let src = next.attr('data-remote') || next.attr('href');\r\n            if (next.attr('data-type') === 'image' || this._isImage(src))\r\n                this._preloadImage(src, '', false);\r\n\r\n            if (numberOfTimes > 0)\r\n                return this._preloadImageByIndex(startIndex + 1, numberOfTimes - 1);\r\n        }\r\n\r\n        _preloadImage(src, altTag, $containerForImage) {\r\n\r\n            $containerForImage = $containerForImage || false;\r\n\r\n            let img = new Image();\r\n            let loadingTimeout = null;\r\n            if ($containerForImage) {\r\n                // if loading takes > 200ms show a loader\r\n                loadingTimeout = setTimeout(() => {\r\n                    $containerForImage.append(this._config.loadingMessage);\r\n                }, 200);\r\n            }\r\n\r\n            img.onload = () => {\r\n                if ($containerForImage) {\r\n\r\n                    if (loadingTimeout)\r\n                        clearTimeout(loadingTimeout);\r\n                    loadingTimeout = null;\r\n\r\n                    let image = $('<img />');\r\n                    image.attr('src', img.src);\r\n                    image.attr('alt', altTag);\r\n                    image.addClass('img-fluid');\r\n\r\n                    // backward compatibility for bootstrap v3\r\n                    image.css('width', '100% !important');\r\n\r\n                    // if the \"data-markup\" attribute is set on the <a> tag...\r\n                    if (this._$element[0].hasAttribute(\"data-markup\")) {\r\n\r\n                        // ...then the \"data-markup\" attribute value provides the repalcement markup\r\n                        var markup = this._$element.attr(\"data-markup\");\r\n                        $containerForImage.html(markup);\r\n                    } else {\r\n                        $containerForImage.html(image);\r\n                    }\r\n\r\n                    if (this._$modalNavLayer) this._$modalNavLayer.css('display', '');\r\n\r\n                    /* ***** determine image dimensions ****\r\n                     * \r\n                     * If image dimensions can be determined \r\n                     * - a max-width inline style is added to .modal-dialog element\r\n                     * - a height inline style is added to .ekko-lightbox-container element\r\n                     * inside of _resize() function.\r\n                     * \r\n                     * In this case, a black backddrop is used behind images to prevent\r\n                     * background bleed during image transitions\r\n                     * \r\n                     * If image dimensions cannot be determined, images are stretched\r\n                     * to maximum dimensions by maximizing all parent containers.\r\n                     * In this case\r\n                     * - 'imageStretched' css class is added to .modal-dialog element\r\n                     * - black backdrop is not being used, to prevent backdrop from\r\n                     *   extending over entire screen regardless of image size.\r\n                     * */\r\n\r\n                    this._$modalDialog.css('display', this._config.verticalAlignCenter ? 'flex' : 'block');\r\n\r\n                    this._$modalDialog.addClass(\"imageLoading\");\r\n                    // temporarily stretches img parent containers so image dimensions can be determined.\r\n\r\n                    var clientWidth = 0;\r\n                    var clientHeight = 0;\r\n\r\n                    // this works in Firefox etc. for jpg AND svg:\r\n                    var imageWidth = $containerForImage.find(\"img\")[0].width;\r\n                    var imageHeight = $containerForImage.find(\"img\")[0].height;\r\n\r\n                    // this works in Chrome etc. for jpg AND svg:\r\n                    var imgWidth = img.width;\r\n                    var imgHeight = img.height;\r\n\r\n                    if (imageWidth > 0 && imageHeight > 0) {\r\n                        clientWidth = imageWidth;\r\n                        clientHeight = imageHeight;\r\n                    }\r\n                    else if (imgWidth > 0 && imgHeight > 0) {\r\n                        clientWidth = imgWidth;\r\n                        clientHeight = imgHeight;\r\n                    }\r\n\r\n                    this._$modalDialog.removeClass(\"imageLoading\");\r\n                    // remove temporary parent container stretch\r\n\r\n                    if (clientWidth > 0 && clientHeight > 0) {\r\n                        // we found image dimensions...\r\n                        if (this._config.debug > 1) alert(\r\n                            \"imageWidth: \" + imageWidth + \", \\\\n\" +\r\n                            \"imageHeight: \" + imageHeight + \", \\\\n\" +\r\n                            \"imgWidth: \" + imgWidth + \", \\\\n\" +\r\n                            \"imgHeight: \" + imgHeight + \".\"\r\n                        );\r\n                        // ...resize the parent containers accordingly:\r\n                        this._resize(clientWidth, clientHeight);\r\n                    }\r\n                    else {\r\n                        // we did not find image dimensions, use stretch method by css:\r\n                        this._$modalDialog.addClass(\"imageStretched\");\r\n                        if (this._config.debug > 1) alert(\"imageStretched\");\r\n                        if (window.console) console.log(\"ekko lightbox: using 'imageStretched' mode for \" + img.src);\r\n                    }\r\n\r\n                    this._$modalDialog.addClass(\"imageLoaded\");\r\n\r\n                    this._toggleLoading(false);\r\n                    return this._config.onContentLoaded.call(this);\r\n                }\r\n            };\r\n\r\n            if ($containerForImage) {\r\n                img.onerror = () => {\r\n                    this._toggleLoading(false);\r\n                    return this._error(this._config.strings.fail + `  ${src}`);\r\n                };\r\n            }\r\n\r\n            img.src = src;\r\n            return img;\r\n        }\r\n\r\n        _swipeGesure() {\r\n            if (this._touchendX < this._touchstartX) {\r\n                return this.navigateRight();\r\n            }\r\n            if (this._touchendX > this._touchstartX) {\r\n                return this.navigateLeft();\r\n            }\r\n        }\r\n\r\n        _resize(width, height) {\r\n\r\n            height = height || width;\r\n\r\n            var scalingFactor = this._calculateScaleFactor(width, height);\r\n            width = width * scalingFactor;\r\n            height = height * scalingFactor;\r\n\r\n            this._wantedWidth = width;\r\n            this._wantedHeight = height;\r\n\r\n            if (this._config.debug > 1) alert(\"wanted width: \" + this._wantedWidth + \", wanted height: \" + this._wantedHeight);\r\n\r\n            let imageAspecRatio = width / height;\r\n\r\n            this._$modalDialog.addClass(\"imageLoading\");\r\n            // temporarily stretches img parent containers so element dimensions can be determined.\r\n\r\n            var modalDialogOuterWidthExcludingMargins = this._$modalDialog.outerWidth(false);\r\n            var modalImageContainerInnerWidth = this._$lightboxContainer.innerWidth();\r\n\r\n            var modalDialogOuterHeightExcludingMargins = this._$modalDialog.outerHeight(false);\r\n            var modalDialogOuterHeightIncludingMargins = this._$modalDialog.outerHeight(true);\r\n            var modalImageContainerInnerHeight = this._$lightboxContainer.innerHeight();\r\n\r\n            this._$modalDialog.removeClass(\"imageLoading\");\r\n\r\n            // the width difference between image container and .modal-dialog element (excluding its margin), which gets the 'max-width' inline style added\r\n            var widthInnerSpacing = modalDialogOuterWidthExcludingMargins - modalImageContainerInnerWidth;\r\n\r\n            // the height difference between .moda-dialog element (excluding its margins) and the image container element, which gets the 'height' inline style added\r\n            var heightInnerSpacing = modalDialogOuterHeightExcludingMargins - modalImageContainerInnerHeight;\r\n            var heightOuterSpacing = modalDialogOuterHeightIncludingMargins - modalImageContainerInnerHeight;\r\n\r\n            let maxWidth = Math.min(modalDialogOuterWidthExcludingMargins, this._config.doc.body.clientWidth, this._config.maxWidth)\r\n\r\n            // if width > the available space, scale down the expected width and height\r\n\r\n            if ((width + widthInnerSpacing) > maxWidth) {\r\n                height = (maxWidth - widthInnerSpacing) / imageAspecRatio;\r\n                width = maxWidth;\r\n            } else\r\n                width = (width + widthInnerSpacing);\r\n\r\n            let headerHeight = 0,\r\n                footerHeight = 0;\r\n\r\n            // as the resize is performed the modal is show, the calculate might fail\r\n            // if so, default to the default sizes\r\n            if (this._footerIsShown)\r\n                footerHeight = this._$modalFooter.outerHeight(true) || 55;\r\n\r\n            if (this._titleIsShown)\r\n                headerHeight = this._$modalHeader.outerHeight(true) || 67;\r\n\r\n            let maxHeight = Math.min(height, window.innerHeight - heightOuterSpacing - headerHeight - footerHeight, this._config.maxHeight - heightInnerSpacing - headerHeight - footerHeight);\r\n\r\n            if (height > maxHeight) {\r\n                // if height > the available height, scale down the width\r\n                width = Math.ceil(maxHeight * imageAspecRatio) + widthInnerSpacing;\r\n            }\r\n\r\n            this._$lightboxContainer.css('height', maxHeight);\r\n            this._$modalDialog.css('flex', '1').css('maxWidth', width);\r\n\r\n            if (this._config.debug > 0 && this._$debugInfo) {\r\n                var message = \"window width: \" + $(window).width()\r\n                    + \",\\nwindow height: \" + $(window).height()\r\n                    + \",\\nwindow screen width: \" + window.screen.width\r\n                    + \",\\nwindow screen height: \" + window.screen.height\r\n                    + \",\\nwindow inner width: \" + window.innerWidth\r\n                    + \",\\nwindow inner height: \" + window.innerHeight\r\n                    + \",\\n maxheight: \" + maxHeight;\r\n\r\n                this._$debugInfo.text(message);\r\n            }\r\n\r\n            let modal = this._$modal.data('bs.modal');\r\n            if (modal) {\r\n                // v4 method is mistakenly protected\r\n                try {\r\n                    modal._handleUpdate();\r\n                } catch (Exception) {\r\n                    modal.handleUpdate();\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n\r\n        static _jQueryInterface(config) {\r\n            config = config || {};\r\n            return this.each(() => {\r\n                let $this = $(this);\r\n                let _config = $.extend(\r\n                    {},\r\n                    Lightbox.Default,\r\n                    $this.data(),\r\n                    typeof config === 'object' && config\r\n                );\r\n\r\n                new Lightbox(this, _config);\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    $.fn[NAME] = Lightbox._jQueryInterface;\r\n    $.fn[NAME].Constructor = Lightbox;\r\n    $.fn[NAME].noConflict = () => {\r\n        $.fn[NAME] = JQUERY_NO_CONFLICT\r\n        return Lightbox._jQueryInterface\r\n    };\r\n\r\n    return Lightbox;\r\n\r\n})(jQuery);\r\n\r\nexport default Lightbox;\r\n"],"sourceRoot":""}